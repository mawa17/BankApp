@page "/dashboard"
@using Frontend.Components.Dialogs
@using Frontend.Services
@inject AuthService Auth

<div class="section-card" style="padding:2rem;">
    <!-- Saldo + actions -->
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;">
        <div>
            <h2>Saldo</h2>
            <p>@CurrentBalance.ToString("C", new System.Globalization.CultureInfo("da-DK"))</p>
        </div>

        <div style="display:flex;gap:1rem;">
            <button @onclick="ShowWithdrawPopup" style="padding:0.5rem 1rem;background:#1a73e8;color:white;border:none;border-radius:4px;cursor:pointer;">HÆV</button>
            <button style="padding:0.5rem 1rem;">INDSÆT</button>
            <button style="padding:0.5rem 1rem;">OVERFØR</button>
        </div>
    </div>

    <!-- Dummy transactions -->
    <div>
        <h3>Seneste transaktioner</h3>
        <table border="1" cellpadding="8">
            <tr>
                <th>Fra</th><th>Dato</th><th>Type</th><th>Beløb</th>
            </tr>
            <tr>
                <td>Rasmus</td><td>01-11-2025</td><td>Indsæt</td><td>DKK 500,00</td>
            </tr>
            <tr>
                <td>Lønkonto</td><td>03-11-2025</td><td>Overførsel</td><td>DKK -1.200,00</td>
            </tr>
            <tr>
                <td>ATM transaction</td><td>05-11-2025</td><td>Hæv</td><td>DKK -300,00</td>
            </tr>
        </table>
    </div>
</div>

<!-- Withdraw popup -->
<WithdrawDialog Show="ShowWithdrawDialog"
                CurrentBalance="CurrentBalance"
                OnClose="CloseWithdrawDialog"
                OnWithdraw="HandleWithdraw" />

@code {
    private bool ShowWithdrawDialog = false;
    private decimal CurrentBalance = 12345.67m;

    private void ShowWithdrawPopup()
    {
        ShowWithdrawDialog = true;
    }

    private void CloseWithdrawDialog()
    {
        ShowWithdrawDialog = false;
    }

    private void HandleWithdraw(decimal amount)
    {
        CurrentBalance -= amount;
        ShowWithdrawDialog = false;
    }
}






<!-- (husk snappel a code)
    private List<string> Accounts {get; set;} = new () {"Lønkonto"};
    private string SelectedAccount {get; set;} = "Lønkonto";

    private bool ShowCreate { get; set; } = false;
    private string NewAccountName { get; set; } = string.Empty;

    private void CreateAccount(){
        var name = (NewAccountName ?? "").Trim();
        if (!string.IsNullOrWhiteSpace(name) && !Accounts.Contains(name))
        {
            Accounts.Add(name);
            SelectedAccount = name;
        }
        NewAccountName = string.Empty;
        ShowCreate = false;
    }

    private void CancelCreate(){
        NewAccountName = string.Empty;
        ShowCreate = false;
    } -->


